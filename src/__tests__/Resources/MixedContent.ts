const resource = /* html */`
<html lang="en" data-user-theme="dark" class="js-focus-visible" data-js-focus-visible="">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0" name="viewport">
    <link as="font" crossorigin="anonymous" href="/fonts/google-sans/regular/latin.woff2" rel="preload">
    <link as="font" crossorigin="anonymous" href="/fonts/google-sans/bold/latin.woff2" rel="preload">
    <link href="https://web-dev.imgix.net" rel="preconnect">
    <meta content="#fff" name="theme-color">
    <title>It's time to lazy-load offscreen iframes!</title>
    <meta content="This post covers the loading attribute and how it can be used to control the loading of iframes. " name="description">
    <link href="https://web.dev/iframe-lazy-loading/" rel="canonical">
    <link href="https://web.dev/i18n/es/iframe-lazy-loading/" hreflang="es" rel="alternate">
    <link href="https://web.dev/i18n/ja/iframe-lazy-loading/" hreflang="ja" rel="alternate">
    <link href="https://web.dev/i18n/pt/iframe-lazy-loading/" hreflang="pt" rel="alternate">
    <link href="http://web.dev/i18n/ru/iframe-lazy-loading/" hreflang="ru" rel="alternate">
    <link href="http://web.dev/iframe-lazy-loading/" hreflang="en" rel="alternate">
    <meta content="It's time to lazy-load offscreen iframes!" itemprop="name">
    <meta content="This post covers the loading attribute and how it can be used to control the loading of iframes. " itemprop="description">
    <meta content="https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;fit=max&amp;w=1200&amp;fm=auto" itemprop="image">
    <meta content="en_US" property="og:locale">
    <meta content="article" property="og:type">
    <meta content="https://web.dev/iframe-lazy-loading/" property="og:url">
    <meta content="web.dev" property="og:site_name">
    <meta content="It's time to lazy-load offscreen iframes!" property="og:title">
    <meta content="This post covers the loading attribute and how it can be used to control the loading of iframes. " property="og:description">
    <meta content="https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;fit=max&amp;w=1200&amp;fm=auto" property="og:image">
    <meta content="Phone outline with loading image and assets" property="og:image:alt">
    <meta content="performance" property="tag">
    <meta content="memory" property="tag">
    <meta content="summary_large_image" name="twitter:card">
    <meta content="It's time to lazy-load offscreen iframes!" name="twitter:title">
    <meta content="This post covers the loading attribute and how it can be used to control the loading of iframes. " name="twitter:description">
    <meta content="https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;fit=max&amp;w=1200&amp;fm=auto" name="twitter:image">
    <link data-title="web.dev feed" href="/feed.xml" rel="alternate" type="application/atom+xml">
    <link href="/manifest.webmanifest" rel="manifest">
    <link rel="shortcut icon" href="/images/favicon.ico">
    <link href="/images/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
    <link href="/images/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
    <link color="#0054ff" href="/images/safari-pinned-tab.svg" rel="mask-icon">
    <script>window.applyThemeSetting = function (e) { const t = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light", o = e || localStorage.getItem("user-color-scheme") || t, r = document.documentElement.getAttribute("data-user-theme"); if (o) { o !== r && document.documentElement.setAttribute("data-user-theme", o); const e = document.querySelector("web-lighthouse-viewer article.lh-root"); e && e.classList.toggle("lh-dark", "dark" === o) } }, window.applyThemeSetting();</script>
    <link href="/css/next.css?v=8797ecae" rel="stylesheet">
    <link href="/css/legacy-rollout.css?v=c92bcb17" rel="stylesheet">
    <link as="font" crossorigin="anonymous" href="/fonts/material-icons/regular.woff2" rel="preload">
    <script>window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }, ga.l = +new Date, ga("create", "UA-126406676-2"), ga("set", "transport", "beacon"), ga("set", "anonymizeIp", !0), ga("set", "page", window.location.pathname), ga("set", "dimension5", "13"); try { ga("set", "dimension6", performance.getEntriesByType("navigation")[0].type.replace(/_/g, "-")) } catch (e) { ga("set", "dimension6", "(not set)") } ga("set", "dimension7", window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"), ga("send", "pageview");</script>
    <script>function loadScript(e, t) { const d = document.createElement("script"); if (d.src = e, d.onload = () => { document.dispatchEvent(new CustomEvent("scriptLoaded", { detail: { url: e } })) }, t && (d.type = t), "module" === t) { d.async = !1; const t = document.createElement("link"); t.rel = "modulepreload", t.href = e, document.head.append(t), window.addEventListener("DOMContentLoaded", (() => { document.head.append(d) })) } else document.head.append(d) } loadScript("/js/app.js?v=145f0867", "module"); let pageScripts = ["/js/content.js"]; document.addEventListener("scriptLoaded", (e => { const t = e.detail.url.split("?")[0], d = pageScripts.indexOf(t); d > -1 && pageScripts.splice(d, 1), 0 === pageScripts.length && document.dispatchEvent(new CustomEvent("pageScriptsLoaded")) })), loadScript("/js/content.js?v=61fbde25", "module");</script>
    <link rel="modulepreload" href="/js/app.js?v=145f0867">
    <link rel="modulepreload" href="/js/content.js?v=61fbde25">
    <script>loadScript("https://www.google-analytics.com/analytics.js", null);</script>
    <script src="http://www.google-analytics.com/analytics.js"></script>
    <script src="/js/app.js?v=145f0867" type="module"></script>
    <script src="/js/content.js?v=61fbde25" type="module"></script>
</head>

<body class="">
    <web-snackbar-container>
        <!---->
        <web-snackbar>
            <!---->
            <div class="web-snackbar__surface flow">
                <!--?lit$482081338$-->
            </div>
        </web-snackbar>
    </web-snackbar-container><a class="skip-link button" data-type="primary" href="#main">Skip to content</a>
    <web-header class="site-header" role="banner">
        <div class="cluster gutter-base"><button class="icon-button tooltip color-core-text md:hidden-yes" aria-labelledby="menu-button-toolip" data-alignment="right" data-open-drawer-button=""><svg viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
                </svg> <span class="tooltip__content" id="menu-button-toolip">Open menu</span></button><a class="site-header__brand brand" href="/"> <svg viewBox="0 0 119.79 22.32" aria-label="web.dev" height="22.32" role="img" width="119.79" xmlns="http://www.w3.org/2000/svg">
                    <path d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" class="brand__text" fill="#5f6368" fill-rule="evenodd"></path>
                    <path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"></path>
                    <path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"></path>
                    <path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"></path>
                    <circle cx="19.27" cy="19.27" fill="#06f" r="3.04"></circle>
                </svg> </a></div>
        <web-navigation-drawer type="standard" tabindex="-1">
            <nav aria-label="main navigation" class="site-header__nav" data-drawer-container=""><a data-category="Site-Wide Custom Events" data-label="Tab: Learn" class="site-header__link" href="/learn/"> Learn </a><a data-category="Site-Wide Custom Events" data-label="Tab: Measure" class="site-header__link" href="/measure/"> Measure </a><a data-category="Site-Wide Custom Events" data-label="Tab: Blog" class="site-header__link" href="/blog/"> Blog </a><a data-category="Site-Wide Custom Events" data-label="Tab: Case Studies" class="site-header__link" href="/tags/case-study/"> Case studies </a><a data-category="Site-Wide Custom Events" data-label="Tab: About" class="site-header__link" href="/about/"> About </a><button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button=""><svg viewBox="0 0 24 24" aria-label="close" class="icon" height="24" role="img" width="24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
                    </svg> <span class="tooltip__content">Close</span></button></nav>
            <!---->
        </web-navigation-drawer>
        <div class="site-header__actions cluster">
            <div class="site-header__search">
                <web-search i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}" results-id="search-main-results">
                    <!---->
                    <button class="web-search__open-btn icon-button color-mid-text" aria-label="Open search">
                        <svg class="web-search__search-icon" xmlns="http://www.w3.org/2000/svg" height="24" width="24" aria-hidden="true">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                        </svg>
                    </button>
                    <div class="web-search__input-wrapper" role="combobox" aria-controls="web-search__input" aria-haspopup="listbox" aria-expanded="false" aria-owns="search-main-results-list">
                        <input id="web-search__input" class="web-search__input" type="text" role="searchbox" autocomplete="off" aria-autocomplete="list" aria-controls="search-main-results-list" aria-label="All articles" placeholder="Search">
                    </div>
                </web-search>
                <web-search-results id="search-main-results">
                    <!---->
                    <div role="listbox" aria-hidden="true" id="search-main-results-list"></div>
                </web-search-results>
            </div>
        </div>
        <!---->
    </web-header>
    <main id="main">
        <div class="banner bg-state-info-bg color-core-text" role="banner">
            <div class="banner__content flow">From fun and frightful web tips and tricks to scary good scroll-linked animations, we're celebrating the web Halloween-style, in <a href="http://web.dev/chrometober-2022">Chrometober</a>.</div>
        </div><img alt="Phone outline with loading image and assets" src="https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format" srcset="https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=200 200w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=228 228w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=260 260w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=296 296w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=338 338w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=385 385w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=439 439w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=500 500w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=571 571w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=650 650w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=741 741w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=845 845w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=964 964w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=1098 1098w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=1252 1252w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=1428 1428w,     https://web-dev.imgix.net/image/admin/dMCW2Qqi5Qp2DB3w4DyE.png?auto=format&amp;w=1600 1600w" class="hero-image" fetchpriority="high" height="480" sizes="100vw" width="1600">
        <div class="post wrapper" data-flush="">
            <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
                <article class="prose legacy-rollout">
                    <header class="flow gap-bottom-size-3">
                        <nav aria-label="breadcrumbs" class="breadcrumbs">
                            <ul class="breadcrumbs__list" role="list">
                                <li><a data-label="post, home breadcrumb" class="gc-analytics-event" data-action="click" data-category="web.dev" href="/"> Home </a></li>
                                <li><a data-label="post, path breadcrumb" class="gc-analytics-event" data-action="click" data-category="web.dev" href="/blog"> All articles </a></li>
                            </ul>
                        </nav>
                        <h1>It's time to lazy-load offscreen iframes!</h1>
                        <p class="color-mid-text flow-space-base">Browser-level built-in lazy-loading for iframes is here</p>
                        <div class="flow-space-size-1 color-mid-text text-size-0"><time>Jul 24, 2020</time> — Updated <time>Aug 15, 2022</time></div>
                        <div class="flow"><span class="w-post-signpost__title"> Available in: <a class="w-post-signpost__link" href="/i18n/en/iframe-lazy-loading/" lang="en" translate="no">English</a>, <a class="w-post-signpost__link" href="/i18n/es/iframe-lazy-loading/" lang="es" translate="no">Español</a>, <a class="w-post-signpost__link" href="/i18n/pt/iframe-lazy-loading/" lang="pt" translate="no">Português</a>, <a class="w-post-signpost__link" href="/i18n/ru/iframe-lazy-loading/" lang="ru" translate="no">Русский</a>, and <a class="w-post-signpost__link" href="/i18n/ja/iframe-lazy-loading/" lang="ja" translate="no">日本語</a> </span></div>
                        <div class="cluster flow-space-size-2">
                            <div class="author"><a class="avatar" href="/authors/addyosmani/"> <img alt="Addy Osmani" sizes="(min-width: 64px) 64px, calc(100vw - 48px)" src="http://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?auto=format&amp;fit=crop&amp;h=64&amp;w=64" srcset="https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=1&amp;q=75 1x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=2&amp;q=50 2x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=3&amp;q=35 3x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=4&amp;q=23 4x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&amp;h=64&amp;w=64&amp;auto=format&amp;dpr=5&amp;q=20 5x" decoding="async" height="64" loading="lazy" width="64"> </a>
                                <div class="flow"><cite class="author__name"> <a href="/authors/addyosmani/">Addy Osmani</a> </cite>
                                    <div class="author__links cluster"><a href="https://twitter.com/addyosmani">Twitter</a><a href="https://github.com/addyosmani">GitHub</a></div>
                                </div>
                            </div>
                        </div>
                    </header>
                    <p><a href="/browser-level-image-lazy-loading/">Standardized lazy-loading for images</a> landed in Chrome 76 via the <code>loading</code> attribute and later came to Firefox. We are happy to share that <strong>browser-level lazy-loading for iframes</strong> is now <a href="https://github.com/whatwg/html/pull/5579" rel="noopener">standardized</a> and is also supported in Chrome and Chromium-based browsers.</p>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span><br><mark class="highlight-line highlight-line-active">        <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span></mark><br><span class="highlight-line">        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span></span><br>        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>
                        <!---->
                    </web-copy-code>
                    <p>Standardized lazy-loading of iframes defers offscreen iframes from being loaded until the user scrolls near them. This saves data, speeds up the loading of other parts of the page, and reduces memory usage.</p>
                    <p>This <a href="https://lazy-load.netlify.app/iframes/" rel="noopener">demo</a> of <code>&lt;iframe loading=lazy&gt;</code> shows lazy-loading video embeds:</p>
                    <figure data-size="full"><video autoplay="" controls="" loop="" muted="">
                            <source src="https://storage.googleapis.com/web-dev-assets/iframe-lazy-loading/lazyload-iframes-compressed.webm" type="video/webm">
                            <source src="https://storage.googleapis.com/web-dev-assets/iframe-lazy-loading/lazyload-iframes-compressed.mp4" type="video/mp4">
                        </video></figure>
                    <h3 id="why-should-we-lazy-load-iframes">Why should we lazy-load iframes? <a class="w-headline-link" href="#why-should-we-lazy-load-iframes">#</a></h3>
                    <p>Third-party embeds cover a wide range of use cases, from video players, to social media posts, to ads. Often this content is not immediately visible in the user's viewport. Rather, it's only seen once they scroll further down the page. Despite this, users pay the cost of downloading data and costly JavaScript for each frame, even if they don't scroll to it.</p>
                    <figure><img alt="Data-savings from using iframe lazy-loading for an iframe. Eager loading pulls in 3MB in this example, while lazy-loading does not pull in this code until the user scrolls closer to the iframe." sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format" srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/xqZMRuULxbz6DVXNP8ea.png?auto=format&amp;w=1600 1600w" decoding="async" height="460" loading="lazy" width="800"></figure>
                    <p>Based off Chrome's research into <a href="https://blog.chromium.org/2019/10/automatically-lazy-loading-offscreen.html" rel="noopener">automatically lazy-loading offscreen iframes for Data Saver users</a>, lazy-loading iframes could lead to 2-3% median data savings, 1-2% <a href="/fcp/">First Contentful Paint</a> reductions at the median, and 2% <a href="/fid/">First Input Delay</a> (FID) improvements at the 95th percentile.</p>
                    <h3 id="how-does-built-in-lazy-loading-for-iframes-work">How does built-in lazy-loading for iframes work? <a class="w-headline-link" href="#how-does-built-in-lazy-loading-for-iframes-work">#</a></h3>
                    <p>The <code>loading</code> attribute allows a browser to defer loading offscreen iframes and images until users scroll near them. <code>loading</code> supports two values:</p>
                    <ul>
                        <li><code>lazy</code>: is a good candidate for lazy-loading.</li>
                        <li><code>eager</code>: is not a good candidate for lazy-loading. Load right away.</li>
                    </ul>
                    <p>Using the <code>loading</code> attribute on iframes works as follows:</p>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Lazy-load the iframe --&gt;</span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span><br>        <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span><br>        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span><br>        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span><br><br><span class="token comment">&lt;!-- Eagerly load the iframe --&gt;</span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span><br>        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span><br>        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span><br><br><span class="token comment">&lt;!-- or use loading="eager" to opt out of automatic<br>lazy-loading in Lite Mode --&gt;</span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span><br>        <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>eager<span class="token punctuation">"</span></span><br>        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span><br>        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>
                        <!---->
                    </web-copy-code>
                    <p>Not specifying the attribute at all will have the same impact as explicitly eagerly loading the resource, except for <a href="https://blog.chromium.org/2019/04/data-saver-is-now-lite-mode.html" rel="noopener">Lite Mode</a> users, where Chrome will use the <code>auto</code> value to decide whether it should be lazy-loaded.</p>
                    <p>If you need to <em>dynamically</em> create iframes via JavaScript, setting <code>iframe.loading = 'lazy'</code> on the element is also <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=993273" rel="noopener">supported</a>:</p>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'https://example.com'</span><span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active">iframe<span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token string">'lazy'</span><span class="token punctuation">;</span></mark><br><span class="highlight-line">document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
                        <!---->
                    </web-copy-code>
                    <h4 id="iframe-specific-lazy-loading-behavior">iframe-specific lazy-loading behavior <a class="w-headline-link" href="#iframe-specific-lazy-loading-behavior">#</a></h4>
                    <p>The loading attribute affects iframes differently than images, depending on whether the iframe is hidden. (Hidden iframes are often used for analytics or communication purposes.) Chrome uses the following criteria to determine whether an iframe is hidden:</p>
                    <ul>
                        <li>The iframe's width and height are <code>4px</code> or smaller.</li>
                        <li><code>display: none</code> or <code>visibility: hidden</code> is applied.</li>
                        <li>The iframe is placed off-screen using negative X or Y positioning.</li>
                        <li>This criteria applies to both <code>loading=lazy</code> and <code>loading=auto</code>.</li>
                    </ul>
                    <p>If an iframe meets any of these conditions, Chrome considers it hidden and won't lazy-load it in most cases. iframes that aren't hidden will only load when they're within the <a href="/browser-level-image-lazy-loading/#load-in-distance-threshold">load-in distance threshold</a>. Chrome shows a placeholder for lazy-loaded iframes that are still being fetched.</p>
                    <h3 id="what-impact-might-we-see-from-lazy-loading-popular-iframe-embeds">What impact might we see from lazy-loading popular iframe embeds? <a class="w-headline-link" href="#what-impact-might-we-see-from-lazy-loading-popular-iframe-embeds">#</a></h3>
                    <p>What if we could change the web at large so that lazy-loading offscreen iframes was the default? It would look a little like this:</p>
                    <p>Lazy-loading YouTube video embeds (saves ~500KB on initial page load):</p>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.youtube.com/embed/YJGCZCaIZkQ<span class="token punctuation">"</span></span><br><mark class="highlight-line highlight-line-active">        <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span></mark><br><span class="highlight-line">        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>560<span class="token punctuation">"</span></span></span><br><span class="highlight-line">        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>315<span class="token punctuation">"</span></span></span><br><span class="highlight-line">        <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span></span><br>        <span class="token attr-name">allow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>accelerometer; autoplay;<br><span class="highlight-line">        encrypted-media; gyroscope;</span><br>        picture-in-picture<span class="token punctuation">"</span></span><br>        <span class="token attr-name">allowfullscreen</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>
                        <!---->
                    </web-copy-code>
                    <p><strong>Anecdote:</strong> when we switched to lazy-loading YouTube embeds for Chrome.com, we saved 10 seconds off of how soon our pages could be interactive on mobile devices. I have opened an internal bug with YouTube to discuss adding <code>loading=lazy</code> to its embed code.</p>
                    <figure><img alt="Chrome.com achieved a 10 second reduction in Time To Interactive by lazy-loading offscreen iframes for their YouTube video embed" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format" srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/HQkwBgEoyiZsiOaPyz8v.png?auto=format&amp;w=1600 1600w" decoding="async" height="460" loading="lazy" width="800"></figure>
                    <aside class="aside flow bg-state-info-bg color-state-info-text">
                        <div class="flow">If you are looking for more efficient ways to load YouTube embeds, you may be interested in the <a href="https://github.com/paulirish/lite-youtube-embed">YouTube lite component</a>.</div>
                    </aside>
                    <p><strong>Lazy-loading Instagram embeds (saves &gt;100KB gzipped on initial load):</strong></p>
                    <p>Instagram embeds provide a block of markup and a script, which injects an iframe into your page. Lazy-loading this iframe avoids having to load all of the script necessary for the embed. Given such embeds are often displayed below the viewport in most articles, this seems like a reasonable candidate for lazy-loading of their iframe.</p>
                    <p><strong>Lazy-loading Spotify embeds (saves 514KB on initial load):</strong></p>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://open.spotify.com/embed/album/1DFixLWuPkv3KT3TnV35m3<span class="token punctuation">"</span></span><br>        <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span><br>        <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span><br>        <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>380<span class="token punctuation">"</span></span><br>        <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><br>        <span class="token attr-name">allowtransparency</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><br>        <span class="token attr-name">allow</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>encrypted-media<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>
                        <!---->
                    </web-copy-code>
                    <p>Although the above embeds illustrate the potential benefits to lazy-loading iframes for media content, there's the potential to also see these benefits for ads.</p>
                    <h3 id="case-study-lazy-loading-the-facebooks-social-plugins">Case study: Lazy-loading the Facebook's social plugins <a class="w-headline-link" href="#case-study-lazy-loading-the-facebooks-social-plugins">#</a></h3>
                    <p>Facebook's <em>social plugins</em> allow developers to embed Facebook content in their web pages. There's a number of these plugins offered, such as embedded posts, photos, videos, comments… The most popular is the <a href="https://developers.facebook.com/docs/plugins/like-button/" rel="noopener">Like plugin</a> - a button that shows a count of who has "liked" the page. By default, embedding the Like plugin in a webpage (using the FB JSSDK) pulls in ~215KB of resources, 197KB of which is JavaScript. In many cases, the plugin may appear at the end of an article or near the end of a page, so loading it eagerly when it's offscreen may be suboptimal.</p>
                    <figure><img alt="Facebook Like Button" sizes="(min-width: 800px) 800px, calc(100vw - 48px)" src="https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format" srcset="https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=200 200w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=228 228w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=260 260w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=296 296w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=338 338w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=385 385w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=439 439w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=500 500w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=571 571w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=650 650w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=741 741w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=845 845w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=964 964w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=1098 1098w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=1252 1252w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=1428 1428w,     https://web-dev.imgix.net/image/admin/fdy8o61jxPN560IkF2Ne.png?auto=format&amp;w=1600 1600w" decoding="async" height="71" loading="lazy" width="800"></figure>
                    <p>Thanks to engineer Stoyan Stefanov, <a href="https://developers.facebook.com/docs/plugins/like-button#settings" rel="noopener">all of Facebook's social plugins now support standardized iframe lazy-loading</a>. Developers who opt in to lazy-loading via the plugins' <code>data-lazy</code> configuration will now be able to avoid it loading until the user scrolls nearby. This enables the embed to still fully function for users that need it, while offering data-savings for those who are not scrolling all the way down a page. We are hopeful this is the first of many embeds to explore standardized iframe lazy-loading in production.</p>
                    <h3 id="can-i-lazy-load-iframes-cross-browser-yes">Can I lazy-load iframes cross-browser? Yes <a class="w-headline-link" href="#can-i-lazy-load-iframes-cross-browser-yes">#</a></h3>
                    <p>iframe lazy-loading can be applied as a progressive enhancement. Browsers which support <code>loading=lazy</code> on iframes will lazy-load the iframe, while the <code>loading</code> attribute will be safely ignored in browsers which do not support it yet.</p>
                    <p>It is also possible to lazy-load offscreen iframes using the <a href="/use-lazysizes-to-lazyload-images/">lazysizes</a> JavaScript library. This may be desirable if you:</p>
                    <ul>
                        <li>require more custom lazy-loading thresholds than what standardized lazy-loading currently offers</li>
                        <li>wish to offer users a consistent iframe lazy-loading experience across browsers</li>
                    </ul>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazysizes.min.js<span class="token punctuation">"</span></span> <span class="token attr-name">async</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line"></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><br><mark class="highlight-line highlight-line-active">	  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazyload<span class="token punctuation">"</span></span></mark><br><span class="highlight-line">    <span class="token attr-name">allowfullscreen</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span></span><br><span class="highlight-line">    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span></span><br><span class="highlight-line">    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span></span><br>    <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//www.youtube.com/embed/ZfV-aYdU4uE<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></span></code></pre>
                        <!---->
                    </web-copy-code>
                    <p>Use the following pattern to feature detect lazy-loading and fetch lazysizes when it's not available:</p>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><br><span class="highlight-line">	  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazyload<span class="token punctuation">"</span></span></span><br><mark class="highlight-line highlight-line-active">    <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span></mark><br><span class="highlight-line">    <span class="token attr-name">allowfullscreen</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span></span><br><span class="highlight-line">    <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span></span><br><span class="highlight-line">    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span></span><br>    <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//www.youtube.com/embed/ZfV-aYdU4uE<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></span><br><span class="highlight-line"></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><br><span class="highlight-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'loading'</span> <span class="token keyword">in</span> <span class="token class-name">HTMLIFrameElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">const</span> iframes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'iframe[loading="lazy"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    iframes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">iframe</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">      iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> iframe<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>src<span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token comment">// Dynamically import the LazySizes library</span></span><br><span class="highlight-line">    <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    script<span class="token punctuation">.</span>src <span class="token operator">=</span></span><br><span class="highlight-line">      <span class="token string">'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js'</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
                        <!---->
                    </web-copy-code>
                    <h3 id="wordpress">An option for WordPress users <a class="w-headline-link" href="#wordpress">#</a></h3>
                    <p>You might have many iframes scattered across years worth of post content in a WordPress site. You can optionally add the following code to your WordPress theme's <code>functions.php</code> file to automatically insert <code>loading="lazy"</code> to your existing iframes without having to manually update them each individually.</p>
                    <p>Note that <a href="https://core.trac.wordpress.org/ticket/50756" rel="noopener">browser-level support for lazy-loading iframes is also being worked on in WordPress core</a>. The following snippet will check for the relevant flags so that, once WordPress has the functionality built-in, it will no longer manually add the <code>loading="lazy"</code> attribute, ensuring it is interoperable with those changes and will not result in a duplicate attribute.</p>
                    <web-copy-code><button class="w-button--icon w-button--round web-copy-code__button" aria-label="Copy code"><span class="w-tooltip w-tooltip--right" role="tooltip">Copy code</span></button>
                        <pre class="language-php"><code class="language-php"><span class="token comment">// TODO: Remove once https://core.trac.wordpress.org/ticket/50756 lands.</span><br><span class="token keyword">function</span> <span class="token function-definition function">wp_lazy_load_iframes_polyfill</span><span class="token punctuation">(</span> <span class="token variable">$content</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token comment">// If WP core lazy-loads iframes, skip this manual implementation.</span><br>	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">function_exists</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'wp_lazy_loading_enabled'</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">wp_lazy_loading_enabled</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'iframe'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'the_content'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		<span class="token keyword">return</span> <span class="token variable">$content</span><span class="token punctuation">;</span><br>	<span class="token punctuation">}</span><br><br>	<span class="token keyword">return</span> <span class="token function">str_replace</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'&lt;iframe '</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'&lt;iframe loading="lazy" '</span><span class="token punctuation">,</span> <span class="token variable">$content</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token function">add_filter</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'the_content'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'wp_lazy_load_iframes_polyfill'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                        <!---->
                    </web-copy-code>
                    <p>If your WordPress site utilizes caching (hint: it should), don't forget to rebuild your site's cache afterwards.</p>
                    <h3 id="conclusion">Conclusion <a class="w-headline-link" href="#conclusion">#</a></h3>
                    <p>Baking in standardized support for lazy-loading iframes makes it significantly easier for you to improve the performance of your web pages. If you have any feedback, please feel free to submit an issue to the <a href="https://bugs.chromium.org/p/chromium/issues/entry?components=Blink%3ELoader%3ELazyLoad" rel="noopener">Chromium Bug Tracker</a>.</p>
                    <p>And, in case you missed it, check out web.dev's <a href="/fast/#lazy-load-images-and-video">image and video lazy-loading collection</a> for more lazy-loading ideas.</p>
                    <p><em>With thanks to Dom Farolino, Scott Little, Houssein Djirdeh, Simon Pieters, Kayce Basques, Joe Medley and Stoyan Stefanov for their reviews.</em></p>
                    <nav class="cluster gutter-base flow-space-size-2" aria-label="tags"><a class="pill" href="/tags/performance/">Performance</a><a class="pill" href="/tags/memory/">Memory</a></nav>
                    <div class="text-size-0 color-mid-text"><span> Last updated: <time>Aug 15, 2022</time> </span> — <a href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/iframe-lazy-loading/index.md"> Improve article </a></div>
                    <div class="flow-space-size-2"><a class="button" data-type="secondary" href="/blog"> <svg viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path>
                            </svg> <span>Return to all articles</span> </a></div>
                    <div class="docked-actions flow flow-space-base">
                        <div>
                            <share-action class="gc-analytics-event fab" authors="@addyosmani" data-action="click" data-category="web.dev" data-icon="share" data-label="share, share" data-type="primary" role="button" tabindex="0"> <svg viewBox="0 0 24 24" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M0 0h24v24H0V0z" fill="none"></path>
                                    <path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"></path>
                                </svg> <span class="fab__label">Share</span> </share-action>
                        </div>
                        <div><a class="fab gc-analytics-event" data-action="click" data-category="web.dev" data-label="view-subscribe" data-type="primary" href="/newsletter/"> <svg aria-label="An envelope with plus icon" viewBox="0 0 24 24" height="24" role="img" width="24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13 20H4c-1.1 0-2-.9-2-2l.01-12c0-1.1.89-2 1.99-2h16c1.1 0 2 .9 2 2v7h-2V8l-8 5-8-5v10h9v2zm-1-9l8-5H4l8 5zm8 7h3v2h-3v3h-2v-3h-3v-2h3v-3h2v3z" fill="currentColor" fill-rule="nonzero"></path>
                                </svg> <span class="fab__label">subscribe</span> </a></div>
                    </div>
                </article>
            </div>
        </div>
    </main>
    <footer class="site-footer" role="contentinfo">
        <nav aria-label="footer navigation" class="site-footer__primary-nav auto-grid">
            <div>
                <h3 class="text-size-2 color-mid-text">Contribute</h3>
                <ul class="w-footer__linkbox-list" role="list">
                    <li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&amp;labels=bug&amp;template=bug_report.md&amp;title="> File a bug </a></li>
                    <li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)" href="https://github.com/googlechrome/web.dev"> View source </a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-size-2 color-mid-text">Related content</h3>
                <ul class="w-footer__linkbox-list" role="list">
                    <li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://developer.chrome.com/"> developer.chrome.com </a></li>
                    <li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://blog.chromium.org/"> Chrome updates </a></li>
                    <li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)" href="/tags/case-study/"> Case studies </a></li>
                    <li><a data-label="Footer Link (index 5)" data-category="Podcasts" href="/podcasts/"> Podcasts </a></li>
                    <li><a data-label="Footer Link (index 6)" data-category="Shows" href="/shows/"> Shows </a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-size-2 color-mid-text">Connect</h3>
                <ul class="w-footer__linkbox-list" role="list">
                    <li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)" href="https://www.twitter.com/ChromiumDev"> Twitter </a></li>
                    <li><a data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)" href="https://www.youtube.com/user/ChromeDevelopers"> YouTube </a></li>
                </ul>
            </div>
        </nav>
        <nav aria-label="Google developers" class="site-footer__brand-nav repel">
            <ul class="cluster" role="list">
                <li><a data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link" href="https://developers.google.com/"> <img alt="Google Developers" class="w-footer__utility-logo" height="33" loading="lazy" src="/images/lockup-color.png" width="185"> </a></li>
                <li><a data-category="Site-Wide Custom Events" data-label="Footer Chrome Link" href="https://developer.chrome.com/"> Chrome </a></li>
                <li><a data-category="Site-Wide Custom Events" data-label="Footer Firebase Link" href="https://firebase.google.com/"> Firebase </a></li>
                <li><a data-category="Site-Wide Custom Events" data-label="Footer Google Cloud Platform Link" href="https://cloud.google.com/"> Google Cloud Platform </a></li>
                <li><a data-category="Site-Wide Custom Events" data-label="Footer All products Link" href="https://developers.google.com/products"> All products </a></li>
            </ul>
            <div class="cluster">
                <theme-toggle> <label class="toggle-switch" for="theme-toggle"><span class="toggle-switch__label">Dark theme</span> <input class="toggle-switch__input" id="theme-toggle" role="switch" type="checkbox" aria-checked="true">
                        <div class="toggle-switch__decor focus-ring" aria-hidden="true">
                            <div class="toggle-switch__thumb"></div>
                        </div>
                    </label> </theme-toggle>
                <web-language-select current="en">
                    <!---->
                    <div class="w-display-flex">
                        <label class="w-visually-hidden" for="preferred-language">
                            Choose language
                        </label>
                        <select id="preferred-language">
                            <!--?lit$482081338$-->
                            <!---->
                            <option selected="" value="en">
                                <!--?lit$482081338$-->ENGLISH (
                                <!--?lit$482081338$-->en)
                            </option>
                            <!---->
                            <!---->
                            <option value="es">
                                <!--?lit$482081338$-->ESPAÑOL (
                                <!--?lit$482081338$-->es)
                            </option>
                            <!---->
                            <!---->
                            <option value="ru">
                                <!--?lit$482081338$-->РУССКИЙ (
                                <!--?lit$482081338$-->ru)
                            </option>
                            <!---->
                            <!---->
                            <option value="pt">
                                <!--?lit$482081338$-->PORTUGUÊS (
                                <!--?lit$482081338$-->pt)
                            </option>
                            <!---->
                            <!---->
                            <option value="ja">
                                <!--?lit$482081338$-->日本語 (
                                <!--?lit$482081338$-->ja)
                            </option>
                            <!---->
                        </select>
                    </div>
                </web-language-select>
            </div>
        </nav>
        <nav aria-label="terms and policies" class="site-footer__misc-links">
            <ul class="cluster" role="list">
                <li><a data-category="Site-Wide Custom Events" data-label="Footer Terms and Privacy link" href="https://policies.google.com/"> Terms &amp; Privacy </a></li>
                <li><a data-category="Site-Wide Custom Events" data-label="Footer Community Guidelines link" href="/community-guidelines/"> Community Guidelines </a></li>
            </ul>
        </nav>
        <p class="gap-top-size-2 text-size-0">Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/"> Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0"> Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/terms/site-policies"> Google Developers Site Policies</a>.</p>
    </footer>
</body>

</html>`;

export default resource;
